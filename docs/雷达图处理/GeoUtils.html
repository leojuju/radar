<HTML>
<meta charset="utf-8">
<hr>
<p>
<h2>getDeltaAngle</h2>
<p><h4>参数:</h4>LatAndLongt p1, LatAndLongt p2</p>
<p><h4>返回值:</h4>double c</p>
<p><h4>描述:</h4>
<p>获取地球上已知经纬度的两点(p1,p2)到地心连线的夹角(c)。</p>
<p>推导过程略显绕口,这里不展开详述了。可以直接采用我的公式,注意分清三角函数采用的角度是弧度表示还是角度表示。</p>
</p>
<p><h4>代码:</h4>
<pre>
</pre>
</p>
</p>
</hr>

<hr>
<p>
<h2>getPixelLocationRelativeTo<a name="getPixelLocationRelativeTo"/></h2>
<p><h4>参数:</h4>LatAndLongt center,double scale,LatAndLongt obj</p>
<p><h4>返回值:</h4>Pixel</p>
<p><h4>描述:</h4>
<img src="Projection1.JPG" height=300 width=400/>
<p>已知图片中心点的经纬度center,和一个新点的经纬度obj,计算该点在图片上投影(投影方式见图片)到中心的像素差,图片的像素间的距离为scale.</p>
<p>以地心到赤道0度经线的射线为x轴正方向,以地心到赤道+90度经线的射线为y轴正方向,以地心到北极的射线为z轴正方向,建立直角坐标系,将球坐标转换为直角坐标,以便于下一步的向量运算,如下图。(这部分转换的方法参见类<a href="LatAndLongt.html">LatAndLongt</a>内部。)</p>
<img src="Projection4.JPG" height=300 width=400/>
<p>Vector centerPoint:地心到图片中心点的向量。</p>
<p>double dAngle:图片中心点和新点到地心连线的夹角</p>
<p>Vector newPoint:地心到新点在图片上投影点的向量。</p>
<p>Vector newVector:图片中心点到新点在图片上投影点的向量。</p>
<p>Vector eVector:图片中心点的正东方向法向量。</p>
<p>Vector nVector:图片中心点的正北方向法向量。</p>
<p>int x:图片中心点到新点在图片上投影点正东方向像素差,负值表示反方向。</p>
<p>int y:图片中心点到新点在图片上投影点正南方向像素差,负值表示反方向。</p>
</p>
<p><h4>代码:</h4>
<pre>
</pre>
</p>
</p>
</hr>

<hr>
<p>
<h2>getDistanceOnEarth</h2>
<p><h4>参数:</h4>LatAndLongt p1,LatAndLongt p2</p>
<p><h4>返回值:</h4>double</p>
<p><h4>描述:</h4>获取地球上已知经纬度的两点(p1,p2)在地球上的距离，地球假设为完美的球形。
</p>
<p><h4>代码:</h4>
<pre>
public static double getDistanceOnEarth(LatAndLongt p1,LatAndLongt p2){
		return getDeltaAngle(p1, p2)*G.R;
	}
</pre>
</p>
</p>
</hr>

</HTML>
